(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5866a575"],{"223c":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"toastification"},[r("div",{staticClass:"d-flex align-items-start"},[r("b-avatar",{staticClass:"mr-75 flex-shrink-0",attrs:{variant:e.variant,size:"1.8rem"}},[r("feather-icon",{attrs:{icon:e.icon,size:"15"}})],1),r("div",{staticClass:"d-flex flex-grow-1"},[r("div",[e.title?r("h5",{staticClass:"mb-0 font-weight-bolder toastification-title",class:"text-"+e.variant,domProps:{textContent:e._s(e.title)}}):e._e(),e.text?r("small",{staticClass:"d-inline-block text-body",domProps:{textContent:e._s(e.text)}}):e._e()]),r("span",{staticClass:"cursor-pointer toastification-close-icon ml-auto ",on:{click:function(t){return e.$emit("close-toast")}}},[e.hideClose?e._e():r("feather-icon",{staticClass:"text-body",attrs:{icon:"XIcon"}})],1)])],1)])},o=[],s=r("e8a3"),n={components:{BAvatar:s["a"]},props:{variant:{type:String,default:"primary"},icon:{type:String,default:null},title:{type:String,default:null},text:{type:String,default:null},hideClose:{type:Boolean,default:!1}}},i=n,l=(r("b549"),r("2877")),d=Object(l["a"])(i,a,o,!1,null,"55dd3057",null);t["a"]=d.exports},"2ca0":function(e,t,r){"use strict";var a=r("23e7"),o=r("06cf").f,s=r("50c4"),n=r("5a34"),i=r("1d80"),l=r("ab13"),d=r("c430"),c="".startsWith,u=Math.min,p=l("startsWith"),m=!d&&!p&&!!function(){var e=o(String.prototype,"startsWith");return e&&!e.writable}();a({target:"String",proto:!0,forced:!m&&!p},{startsWith:function(e){var t=String(i(this));n(e);var r=s(u(arguments.length>1?arguments[1]:void 0,t.length)),a=String(e);return c?c.call(t,a,r):t.slice(r,r+a.length)===a}})},3425:function(e,t,r){},"47bc":function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var a=r("a6f4");function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=Object(a["ref"])(null),o=function(){r.value.reset()},s=function(e){var t=e.dirty,r=e.validated,a=e.required,o=e.changed,s=e.valid,n=void 0===s?null:s,i=t||r?n:null;return a||o?i:null},n=function(){e(),Object(a["nextTick"])((function(){o()}))},i=function(){t(),Object(a["nextTick"])((function(){o()}))};return{refFormObserver:r,resetObserver:o,getValidationState:s,resetForm:n,clearForm:i}}},5319:function(e,t,r){"use strict";var a=r("d784"),o=r("825a"),s=r("7b0b"),n=r("50c4"),i=r("a691"),l=r("1d80"),d=r("8aa5"),c=r("14c3"),u=Math.max,p=Math.min,m=Math.floor,f=/\$([$&'`]|\d\d?|<[^>]*>)/g,b=/\$([$&'`]|\d\d?)/g,h=function(e){return void 0===e?e:String(e)};a("replace",2,(function(e,t,r,a){var v=a.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,y=a.REPLACE_KEEPS_$0,g=v?"$":"$0";return[function(r,a){var o=l(this),s=void 0==r?void 0:r[e];return void 0!==s?s.call(r,o,a):t.call(String(o),r,a)},function(e,a){if(!v&&y||"string"===typeof a&&-1===a.indexOf(g)){var s=r(t,e,this,a);if(s.done)return s.value}var l=o(e),m=String(this),f="function"===typeof a;f||(a=String(a));var b=l.global;if(b){var w=l.unicode;l.lastIndex=0}var F=[];while(1){var k=c(l,m);if(null===k)break;if(F.push(k),!b)break;var S=String(k[0]);""===S&&(l.lastIndex=d(m,n(l.lastIndex),w))}for(var x="",$=0,C=0;C<F.length;C++){k=F[C];for(var E=String(k[0]),j=u(p(i(k.index),m.length),0),A=[],O=1;O<k.length;O++)A.push(h(k[O]));var P=k.groups;if(f){var I=[E].concat(A,j,m);void 0!==P&&I.push(P);var T=String(a.apply(void 0,I))}else T=_(E,m,j,A,P,a);j>=$&&(x+=m.slice($,j)+T,$=j+E.length)}return x+m.slice($)}];function _(e,r,a,o,n,i){var l=a+e.length,d=o.length,c=b;return void 0!==n&&(n=s(n),c=f),t.call(i,c,(function(t,s){var i;switch(s.charAt(0)){case"$":return"$";case"&":return e;case"`":return r.slice(0,a);case"'":return r.slice(l);case"<":i=n[s.slice(1,-1)];break;default:var c=+s;if(0===c)return t;if(c>d){var u=m(c/10);return 0===u?t:u<=d?void 0===o[u-1]?s.charAt(1):o[u-1]+s.charAt(1):t}i=o[c-1]}return void 0===i?"":i}))}}))},"8d81":function(e,t,r){},afdb:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-card",[r("validation-observer",{ref:"infoRules",attrs:{tag:"form"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.invalid;return[r("b-row",[r("b-col",{attrs:{md:"6"}},[r("validation-provider",{attrs:{name:"Name",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("b-form-group",{attrs:{label:"Name","label-for":"name"}},[r("b-form-input",{attrs:{id:"name",state:e.getValidationState(t),trim:"",placeholder:"Name"},model:{value:e.employeesForm.name,callback:function(t){e.$set(e.employeesForm,"name",t)},expression:"employeesForm.name"}}),r("b-form-invalid-feedback",[e._v(" "+e._s(t.errors[0])+" ")])],1)]}}],null,!0)})],1),r("b-col",{attrs:{md:"6"}},[r("validation-provider",{attrs:{name:"Email",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("b-form-group",{attrs:{label:"Email","label-for":"Email"}},[r("b-form-input",{attrs:{id:"Email",state:e.getValidationState(t),trim:"",placeholder:"email"},model:{value:e.employeesForm.email,callback:function(t){e.$set(e.employeesForm,"email",t)},expression:"employeesForm.email"}}),r("b-form-invalid-feedback",[e._v(" "+e._s(t.errors[0])+" ")])],1)]}}],null,!0)})],1),r("b-col",{attrs:{md:"6"}},[r("validation-provider",{attrs:{rules:"required",name:"branch"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("b-form-group",{attrs:{label:"branch ","label-for":"branch"}},[r("b-form-select",{attrs:{id:"branch",options:e.optionsBranch,type:"search",trim:"",placeholder:"branch",state:e.getValidationState(t)},model:{value:e.employeesForm.branch_id,callback:function(t){e.$set(e.employeesForm,"branch_id",t)},expression:"employeesForm.branch_id"}}),r("b-form-invalid-feedback",[e._v(" "+e._s(t.errors[0])+" ")])],1)]}}],null,!0)})],1),r("b-col",{attrs:{md:"6"}},[r("validation-provider",{attrs:{name:"mobile",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("b-form-group",{attrs:{label:"mobile","label-for":"mobile"}},[r("b-form-input",{attrs:{id:"mobile",state:e.getValidationState(t),placeholder:"mobile",trim:"",type:"tel"},on:{input:e.formatPhoneNumber,keypress:e.onlyAllowNumbersAndPlus},model:{value:e.employeesForm.mobile,callback:function(t){e.$set(e.employeesForm,"mobile",t)},expression:"employeesForm.mobile"}}),r("b-form-invalid-feedback",[e._v(" "+e._s(t.errors[0])+" ")])],1)]}}],null,!0)})],1),r("b-col",{attrs:{md:"6"}},[r("validation-provider",{attrs:{name:"Whatsapp",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("b-form-group",{attrs:{label:"Whatsapp","label-for":"Whatsapp"}},[r("b-form-input",{attrs:{id:"Whats app",state:e.getValidationState(t),trim:"",type:"tel",placeholder:"Whats app"},on:{input:e.formatPhoneNumber,keypress:e.onlyAllowNumbersAndPlus},model:{value:e.employeesForm.whats_app,callback:function(t){e.$set(e.employeesForm,"whats_app",t)},expression:"employeesForm.whats_app"}}),r("b-form-invalid-feedback",[e._v(" "+e._s(t.errors[0])+" ")])],1)]}}],null,!0)})],1),r("b-col",{attrs:{md:"6"}},[r("validation-provider",{attrs:{name:"job title",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("b-form-group",{attrs:{label:"job title","label-for":"job title"}},[r("b-form-input",{attrs:{id:"job title",state:e.getValidationState(t),trim:"",placeholder:"job title"},model:{value:e.employeesForm.job_title,callback:function(t){e.$set(e.employeesForm,"job_title",t)},expression:"employeesForm.job_title"}}),r("b-form-invalid-feedback",[e._v(" "+e._s(t.errors[0])+" ")])],1)]}}],null,!0)})],1),r("b-col",{attrs:{md:"6"}},[r("validation-provider",{attrs:{name:"Website",rules:"required|url"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("b-form-group",{attrs:{label:"Company's Website","label-for":"Website"}},[r("b-form-input",{attrs:{id:"Website",state:e.getValidationState(t),trim:"",placeholder:"Company's Website"},model:{value:e.employeesForm.website_company,callback:function(t){e.$set(e.employeesForm,"website_company",t)},expression:"employeesForm.website_company"}}),r("b-form-invalid-feedback",[e._v(" "+e._s(t.errors[0])+" ")])],1)]}}],null,!0)})],1),r("b-col",{attrs:{md:"6"}},[r("validation-provider",{attrs:{name:"linked_in",rules:"required|url"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("b-form-group",{attrs:{label:"Linked in","label-for":"linked_in"}},[r("b-form-input",{attrs:{id:"linked_in",state:e.getValidationState(t),trim:"",placeholder:"Linked in"},model:{value:e.employeesForm.linked_in,callback:function(t){e.$set(e.employeesForm,"linked_in",t)},expression:"employeesForm.linked_in"}}),r("b-form-invalid-feedback",[e._v(" "+e._s(t.errors[0])+" ")])],1)]}}],null,!0)})],1),r("b-col",{attrs:{md:"6"}},[r("b-media",{staticClass:"mb-1",attrs:{"no-body":""}},[r("b-media-aside",[r("b-link",[r("b-img",{directives:[{name:"img",rawName:"v-img"}],ref:"previewEl",attrs:{rounded:"",src:e.employeesForm.photo,width:"100",height:"100"}})],1)],1),r("b-media-body",[r("b-button",{staticClass:"mb-75 mr-75",attrs:{variant:"primary",size:"sm"},on:{click:function(t){return e.selectFile()}}},[e._v(" Upload photo ")]),r("b-form-file",{ref:"refInputEl",attrs:{accept:".jpg, .png",hidden:!0,plain:""},on:{change:function(t){return e.changeProfile(t)}}})],1)],1)],1),e.errorMsg?r("b-col",{attrs:{cols:"12"}},[r("p",{staticClass:"text-danger"},[e._v(" "+e._s(e.errorMsg)+" ")])]):e._e(),Object.values(e.errors).length>0?r("b-col",{attrs:{cols:"12"}},e._l(e.errors,(function(t,a,o){return r("p",{key:o,staticClass:"text-danger small"},[e._v(" "+e._s(t.toString())+" ")])})),0):e._e()],1),r("b-row",[r("b-col",{staticClass:"mt-50",attrs:{cols:"12"}},[!e.loader&&e.$route.params.id?r("b-button",{staticClass:"mr-1",attrs:{variant:"primary",disabled:a||Object.values(e.errors).length>0},on:{click:function(t){return e.addemployees()}}},[e._v(" Save Changes ")]):e._e(),e.loader||e.$route.params.id?e._e():r("b-button",{staticClass:"mr-1",attrs:{variant:"primary",disabled:a||Object.values(e.errors).length>0},on:{click:function(t){return e.addemployees()}}},[e._v(" Add ")]),e.loader?r("b-button",{staticClass:"mr-1",attrs:{variant:"primary",disabled:""}},[r("b-spinner",{attrs:{small:"",type:"grow"}}),e._v(" Loading... ")],1):e._e()],1)],1)]}}])})],1)},o=[],s=(r("ac1f"),r("5319"),r("2ca0"),r("466d"),r("caad"),r("2532"),r("d3b7"),r("d81d"),r("b0c0"),r("a6f4")),n=r("47bc"),i=r("8f03"),l=r("bc3a"),d=r.n(l),c=r("223c"),u=r("b91d"),p=r("7bb1");Object(p["c"])("url",{validate:function(e){var t=/^(ftp|http|https):\/\/[^ "]+$/;return t.test(e)},message:"Please enter a valid URL."});var m={components:{},mixins:[u["a"]],data:function(){return{loading:!1,userLocation:{},position:{},branches:[],companies:[],optionsBranch:[],errorMsg:"",required:i["b"],id:this.$store.state.generalIds.id,selected:[],allSelected:[],indeterminate:!1,allPermissions:[],users:[],loader:!1,validationErrors:{},errors:{},passwordFieldType:"text"}},setup:function(){var e=Object(n["a"])(),t=e.getValidationState,r=Object(s["ref"])({photo:null,name:"",email:"",job_title:"",password:"",mobile:"",linked_in:"",website_company:"",address:"address",company_brief:"company brief",whats_app:"",branch:{id:"",name:"",country:""}}),a=Object(s["ref"])("");return{getValidationState:t,employeesForm:r,photo:a}},computed:{passwordToggleIcon:function(){return"password"===this.passwordFieldType?"EyeIcon":"EyeOffIcon"}},mounted:function(){this.getBranch(),this.showemployees(),this.employeesForm.password=""},methods:{handleType:function(e){var t=e.srcElement,r=e.type,a=t.value;this.passwordFieldType="blur"!==r||a?"password":"text"},formatPhoneNumber:function(e){var t=e.target.value,r=t.replace(/[^0-9+]/g,"");r.startsWith("+")||/^\d+$/.test(r)?this.employeesForm.whats_app=r:this.employeesForm.whats_app=r.replace(/\+/g,"")},onlyAllowNumbersAndPlus:function(e){var t=e.charCode,r=String.fromCharCode(t);(!r.match(/[0-9+]/)||"+"===r&&e.target.value.includes("+"))&&e.preventDefault()},selectFile:function(){this.$refs.refInputEl.$el.click()},changeProfile:function(e){var t=this;this.photo=e.target.files[0];var r=e.target;if(r.files){var a=new FileReader;a.onload=function(e){t.employeesForm.photo=e.target.result},this.photo=r.files[0],a.readAsDataURL(r.files[0])}},getBranch:function(){var e=this;this.loadtable=!0,d.a.get("https://FCI-vcard.tmam.app/api/branch").then((function(t){e.optionsBranch=t.data.data.map((function(e){return{value:e.id,text:e.name}}))})).finally((function(){e.loadtable=!1}))},showemployees:function(){var e=this;return!!this.$route.params.id&&(d.a.get("employees/".concat(this.$route.params.id)).then((function(t){e.employeesForm=t.data.data.employee,e.employeesForm.password="",e.employeesForm.branch_id=t.data.data.employee.branch.id})),!0)},addemployees:function(){var e=this;if(this.$route.params.id){this.loader=!0;var t=new FormData;for(var r in this.employeesForm)"photo"!==r&&t.append(r,this.employeesForm[r]);t.append("photo",this.photo),d.a.post("employees/".concat(this.$route.params.id),t).then((function(t){200===t.status&&(e.$router.push({name:"employees"}),e.$toasted.show("Updated Successfully",{position:"top-center",duration:3e3}))})).catch((function(t){500===t.response.status?e.$toast({component:c["a"],props:{title:"Ooops!!! An Unexpected Internal server error",icon:"BellIcon",variant:"danger"}}):422===t.response.status&&(void 0!==t.response.data.errors?e.errorMsg=t.response.data.errors:e.errorMsg=t.response.data.message)})).finally((function(){e.loader=!1}))}else{var a=new FormData;for(var o in this.employeesForm)"photo"!==o&&a.append(o,this.employeesForm[o]);this.photo&&a.append("photo",this.photo),this.loader=!0,d.a.post("employees",a).then((function(t){200!==t.status&&201!==t.status||(e.$router.push({name:"employees"}),e.$toasted.show("Created Successfully",{position:"top-center",duration:3e3}))})).catch((function(t){500===t.response.status?e.$toast({component:c["a"],props:{title:"Ooops!!! An Unexpected Internal server error",icon:"BellIcon",variant:"danger"}}):422===t.response.status&&(void 0!==t.response.data.errors?e.errorMsg=t.response.data.errors:e.errorMsg=t.response.data.message)})).finally((function(){e.loader=!1}))}}}},f=m,b=(r("b981"),r("2877")),h=Object(b["a"])(f,a,o,!1,null,null,null);t["default"]=h.exports},b549:function(e,t,r){"use strict";r("8d81")},b91d:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var a={data:function(){return{passwordFieldType:"password",pinFieldType:"password"}},methods:{togglePasswordVisibility:function(){this.passwordFieldType="password"===this.passwordFieldType?"text":"password"},togglepinVisibility:function(){this.pinFieldType="password"===this.pinFieldType?"number":"password"}}}},b981:function(e,t,r){"use strict";r("3425")},d81d:function(e,t,r){"use strict";var a=r("23e7"),o=r("b727").map,s=r("1dde"),n=r("ae40"),i=s("map"),l=n("map");a({target:"Array",proto:!0,forced:!i||!l},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-5866a575.39cb8cc5.js.map