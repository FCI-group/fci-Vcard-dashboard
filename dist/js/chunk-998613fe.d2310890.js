(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-998613fe"],{"223c":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"toastification"},[a("div",{staticClass:"d-flex align-items-start"},[a("b-avatar",{staticClass:"mr-75 flex-shrink-0",attrs:{variant:t.variant,size:"1.8rem"}},[a("feather-icon",{attrs:{icon:t.icon,size:"15"}})],1),a("div",{staticClass:"d-flex flex-grow-1"},[a("div",[t.title?a("h5",{staticClass:"mb-0 font-weight-bolder toastification-title",class:"text-"+t.variant,domProps:{textContent:t._s(t.title)}}):t._e(),t.text?a("small",{staticClass:"d-inline-block text-body",domProps:{textContent:t._s(t.text)}}):t._e()]),a("span",{staticClass:"cursor-pointer toastification-close-icon ml-auto ",on:{click:function(e){return t.$emit("close-toast")}}},[t.hideClose?t._e():a("feather-icon",{staticClass:"text-body",attrs:{icon:"XIcon"}})],1)])],1)])},r=[],i=a("e8a3"),o={components:{BAvatar:i["a"]},props:{variant:{type:String,default:"primary"},icon:{type:String,default:null},title:{type:String,default:null},text:{type:String,default:null},hideClose:{type:Boolean,default:!1}}},s=o,l=(a("b549"),a("2877")),d=Object(l["a"])(s,n,r,!1,null,"55dd3057",null);e["a"]=d.exports},"47bc":function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var n=a("a6f4");function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=Object(n["ref"])(null),r=function(){a.value.reset()},i=function(t){var e=t.dirty,a=t.validated,n=t.required,r=t.changed,i=t.valid,o=void 0===i?null:i,s=e||a?o:null;return n||r?s:null},o=function(){t(),Object(n["nextTick"])((function(){r()}))},s=function(){e(),Object(n["nextTick"])((function(){r()}))};return{refFormObserver:a,resetObserver:r,getValidationState:i,resetForm:o,clearForm:s}}},"7ff8":function(t,e,a){"use strict";a("dabe")},"8d81":function(t,e,a){},"92b7":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",[a("validation-observer",{ref:"infoRules",attrs:{tag:"form"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.invalid;return[a("b-row",[a("b-col",{attrs:{md:"6"}},[a("validation-provider",{attrs:{name:"next_maintenance_date",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-form-group",{attrs:{label:"next_maintenance_date","label-for":"next_maintenance_date"}},[a("b-form-input",{attrs:{id:"next_maintenance_date",type:"date",state:t.getValidationState(e),trim:"",placeholder:"next_maintenance_date"},model:{value:t.maintenanceForm.next_maintenance_date,callback:function(e){t.$set(t.maintenanceForm,"next_maintenance_date",e)},expression:"maintenanceForm.next_maintenance_date"}}),a("b-form-invalid-feedback",[t._v(" "+t._s(e.errors[0])+" ")])],1)]}}],null,!0)})],1),a("b-col",{attrs:{md:"6"}},[a("validation-provider",{attrs:{name:"date",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-form-group",{attrs:{label:"date","label-for":"date"}},[a("b-form-input",{attrs:{id:"date",type:"date",state:t.getValidationState(e),trim:"",placeholder:"date"},model:{value:t.maintenanceForm.date,callback:function(e){t.$set(t.maintenanceForm,"date",e)},expression:"maintenanceForm.date"}}),a("b-form-invalid-feedback",[t._v(" "+t._s(e.errors[0])+" ")])],1)]}}],null,!0)})],1),a("b-col",{attrs:{md:"6"}},[a("validation-provider",{attrs:{name:"maintained_by",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-form-group",{attrs:{label:"maintained_by","label-for":"maintained_by"}},[a("b-form-input",{attrs:{id:"maintained_by",state:t.getValidationState(e),trim:"",placeholder:"maintained_by"},model:{value:t.maintenanceForm.maintained_by,callback:function(e){t.$set(t.maintenanceForm,"maintained_by",e)},expression:"maintenanceForm.maintained_by"}}),a("b-form-invalid-feedback",[t._v(" "+t._s(e.errors[0])+" ")])],1)]}}],null,!0)})],1),a("b-col",{attrs:{md:"6"}},[a("validation-provider",{attrs:{name:"note",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-form-group",{attrs:{label:"note","label-for":"note"}},[a("b-form-input",{attrs:{id:"note",state:t.getValidationState(e),type:"note",placeholder:"note"},model:{value:t.maintenanceForm.note,callback:function(e){t.$set(t.maintenanceForm,"note",e)},expression:"maintenanceForm.note"}}),a("b-form-invalid-feedback",[t._v(" "+t._s(e.errors[0])+" ")])],1)]}}],null,!0)})],1),t.errorMsg?a("b-col",{attrs:{cols:"12"}},[a("p",{staticClass:"text-danger"},[t._v(" "+t._s(t.errorMsg)+" ")])]):t._e(),Object.values(t.errors).length>0?a("b-col",{attrs:{cols:"12"}},t._l(t.errors,(function(e,n,r){return a("p",{key:r,staticClass:"text-danger small"},[t._v(" "+t._s(e.toString())+" ")])})),0):t._e()],1),a("b-row",[a("b-col",{staticClass:"mt-50",attrs:{cols:"12"}},[!t.loader&&t.$route.params.id?a("b-button",{staticClass:"mr-1",attrs:{variant:"primary",disabled:n||Object.values(t.errors).length>0},on:{click:function(e){return t.addMaintenance()}}},[t._v(" Save Changes ")]):t._e(),t.loader||t.$route.params.id?t._e():a("b-button",{staticClass:"mr-1",attrs:{variant:"primary",disabled:n||Object.values(t.errors).length>0},on:{click:function(e){return t.addMaintenance()}}},[t._v(" Add ")]),t.loader?a("b-button",{staticClass:"mr-1",attrs:{variant:"primary",disabled:""}},[a("b-spinner",{attrs:{small:"",type:"grow"}}),t._v(" Loading... ")],1):t._e()],1)],1)]}}])})],1)},r=[],i=(a("d3b7"),a("a6f4")),o=a("47bc"),s=a("8f03"),l=a("bc3a"),d=a.n(l),c=a("223c"),u=a("b91d"),m=a("7bb1");Object(m["c"])("url",{validate:function(t){var e=/^(ftp|http|https):\/\/[^ "]+$/;return e.test(t)},message:"Please enter a valid URL."});var f={components:{},mixins:[u["a"]],data:function(){return{loading:!1,errorMsg:"",required:s["b"],id:this.$store.state.generalIds.id,indeterminate:!1,validationErrors:{},errors:{},passwordFieldType:"text",search:"",selected:null}},setup:function(){var t=Object(o["a"])(),e=t.getValidationState,a=Object(i["ref"])({});return{getValidationState:e,maintenanceForm:a}},methods:{addMaintenance:function(){var t=this,e=new FormData;for(var a in this.maintenanceForm)"photo"!==a&&e.append(a,this.maintenanceForm[a]);this.loader=!0,d.a.post("/device/".concat(this.$route.params.id,"/maintenance"),e).then((function(e){200!==e.status&&201!==e.status||(t.$router.push({name:"devices"}),t.$toasted.show("Created Successfully",{position:"top-center",duration:3e3}))})).catch((function(e){500===e.response.status?t.$toast({component:c["a"],props:{title:"Ooops!!! An Unexpected Internal server error",icon:"BellIcon",variant:"danger"}}):422===e.response.status&&(void 0!==e.response.data.errors?t.errorMsg=e.response.data.errors:t.errorMsg=e.response.data)})).finally((function(){t.loader=!1}))}}},p=f,b=(a("7ff8"),a("2877")),v=Object(b["a"])(p,n,r,!1,null,null,null);e["default"]=v.exports},b549:function(t,e,a){"use strict";a("8d81")},b91d:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));var n={data:function(){return{passwordFieldType:"password",pinFieldType:"password"}},methods:{togglePasswordVisibility:function(){this.passwordFieldType="password"===this.passwordFieldType?"text":"password"},togglepinVisibility:function(){this.pinFieldType="password"===this.pinFieldType?"number":"password"}}}},dabe:function(t,e,a){}}]);
//# sourceMappingURL=chunk-998613fe.d2310890.js.map